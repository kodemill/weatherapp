{"version":3,"sources":["../../src/lib/fetch-weather.js"],"names":[],"mappings":";;;;;;AAAA;;;;AACA;;AACA;;;;;;;;AAEA,MAAM,UAAU,yCAAhB;AACA,MAAM,mBAAmB,WAAY,aAAW,QAAQ,IAAR,CAAa,GAAb,CAAkB,GAAlE;AACA,MAAM,sBAAsB,WACzB,IAAE,OAAQ,KAAE,iBAAiB,OAAjB,CAA0B,yBAAsB,aAAK,oBAAqB,GADzF;;AAGA,MAAM;AAAA,+BAAW,WAAM,OAAN,EAAiB;AAChC,UAAM,gBAAgB,MAAM,OAAN,CAAc,OAAd,IAAyB,oBAAK,OAAL,CAAzB,GAAyC,CAAC,OAAD,CAA/D;AACA,UAAM,WAAW,MAAM,yBAAM,oBAAoB,aAApB,CAAN,CAAvB;AACA,QAAI,SAAS,EAAb,EAAiB;AACf,aAAO,MAAM,SAAS,IAAT,EAAb;AACD;AACD,UAAM,IAAI,KAAJ,CAAU,gCAAV,CAAN;AACD,GAPK;;AAAA;AAAA;AAAA;AAAA,IAAN;;kBASe,Q","file":"fetch-weather.js","sourcesContent":["import fetch from 'node-fetch';\nimport { auth } from '../../config';\nimport uniq from 'lodash/uniq';\n\nconst baseUrl = 'http://api.openweathermap.org/data/2.5/';\nconst createGroupParam = cityIds => `group?id=${cityIds.join(',')}`;\nconst createGroupQueryUrl = cityIds =>\n  `${baseUrl}${createGroupParam(cityIds)}&units=metric&appid=${auth.openWeatherMapApiKey}`;\n\nconst getGroup = async cityIds => {\n  const citiesToCheck = Array.isArray(cityIds) ? uniq(cityIds) : [cityIds];\n  const response = await fetch(createGroupQueryUrl(citiesToCheck));\n  if (response.ok) {\n    return await response.json();\n  }\n  throw new Error('smg went wrong during api call');\n};\n\nexport default getGroup;\n"]}