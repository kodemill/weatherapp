{"version":3,"sources":["../../src/model/weather-report.js"],"names":[],"mappings":";;;;;;AAAA;;;;;;AAEA,MAAM,sBAAsB,qBAAW;AACrC,QAAM;AACJ,UAAM,MADF;AAEJ,SAAK,MAFD;AAGJ,cAAU,IAHN;AAIJ,WAAO;AAJH,GAD+B;AAOrC,eAAa;AACX,UAAM,MADK;AAEX,cAAU;AAFC,GAPwB;AAWrC,aAAW;AACT,UAAM,iBAAO,KAAP,CAAa;AADV,GAX0B;AAcrC,aAAW;AACT,UAAM,IADG;AAET,cAAU,IAFD;AAGT,aAAS,KAAK,GAHL;AAIT,WAAO;AAJE;AAd0B,CAAX,CAA5B;;AAsBA,oBAAoB,GAApB,CAAwB,QAAxB,EAAkC;AAChC,aAAW,CAAC,GAAD,EAAM,GAAN,KAAc;AACvB,QAAI,EAAJ,GAAS,IAAI,GAAb;AACA,WAAO,IAAI,GAAX;AACA,WAAO,IAAI,GAAX;AACA,WAAO,IAAI,SAAX;AACD;AAN+B,CAAlC;;kBASe,mBAAS,KAAT,CAAe,eAAf,EAAgC,mBAAhC,C;AACf","file":"weather-report.js","sourcesContent":["import mongoose, { Schema } from 'mongoose';\n\nconst WeatherReportSchema = new Schema({\n  city: {\n    type: Number,\n    ref: 'City',\n    required: true,\n    index: true,\n  },\n  temperature: {\n    type: Number,\n    required: true,\n  },\n  rawReport: {\n    type: Schema.Types.Mixed,\n  },\n  createdAt: {\n    type: Date,\n    required: true,\n    default: Date.now,\n    index: true,\n  },\n});\n\nWeatherReportSchema.set('toJSON', {\n  transform: (doc, ret) => {\n    ret.id = doc._id;\n    delete ret._id;\n    delete ret.__v;\n    delete ret.rawReport;\n  },\n});\n\nexport default mongoose.model('WeatherReport', WeatherReportSchema);\n/* http://openweathermap.org/current#current_JSON\ncoord\ncoord.lon City geo location, longitude\ncoord.lat City geo location, latitude\nweather (more info Weather condition codes)\nweather.id Weather condition id\nweather.main Group of weather parameters (Rain, Snow, Extreme etc.)\nweather.description Weather condition within the group\nweather.icon Weather icon id\nbase Internal parameter\nmain\nmain.temp Temperature. Unit Default: Kelvin, Metric: Celsius, Imperial: Fahrenheit.\nmain.pressure Atmospheric pressure (on the sea level, if there is no sea_level or grnd_level data), hPa\nmain.humidity Humidity, %\nmain.temp_min Minimum temperature at the moment. This is deviation from current temp that is possible for large cities and megalopolises geographically expanded (use these parameter optionally). Unit Default: Kelvin, Metric: Celsius, Imperial: Fahrenheit.\nmain.temp_max Maximum temperature at the moment. This is deviation from current temp that is possible for large cities and megalopolises geographically expanded (use these parameter optionally). Unit Default: Kelvin, Metric: Celsius, Imperial: Fahrenheit.\nmain.sea_level Atmospheric pressure on the sea level, hPa\nmain.grnd_level Atmospheric pressure on the ground level, hPa\nwind\nwind.speed Wind speed. Unit Default: meter/sec, Metric: meter/sec, Imperial: miles/hour.\nwind.deg Wind direction, degrees (meteorological)\nclouds\nclouds.all Cloudiness, %\nrain\nrain.3h Rain volume for the last 3 hours\nsnow\nsnow.3h Snow volume for the last 3 hours\ndt Time of data calculation, unix, UTC\nsys\nsys.type Internal parameter\nsys.id Internal parameter\nsys.message Internal parameter\nsys.country Country code (GB, JP etc.)\nsys.sunrise Sunrise time, unix, UTC\nsys.sunset Sunset time, unix, UTC\nid City ID\nname City name\ncod Internal parameter\n*/\n"]}