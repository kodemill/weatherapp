{"version":3,"sources":["../../src/model/city.js"],"names":[],"mappings":";;;;;;AAAA;;;;;;AAEA,MAAM,aAAa,IAAI,mBAAS,MAAb,CAAoB;AACrC,OAAK;AACH,UAAM,MADH;AAEH,WAAO,IAFJ;AAGH,cAAU;AAHP,GADgC;AAMrC,QAAM;AACJ,UAAM,MADF;AAEJ,cAAU,IAFN;AAGJ,WAAO;AAHH,GAN+B;AAWrC,UAAQ;AACN,UAAM,MADA;AAEN,WAAO;AAFD,GAX6B;AAerC,WAAS;AACP,UAAM,MADC;AAEP,cAAU;AAFH,GAf4B;AAmBrC;AACA,YAAU;AACR,UAAM;AACJ,YAAM,OADF;AAEJ,eAAS;AAFL,KADE;AAKR,iBAAa;AACX,YAAM,CAAC,MAAD,CADK;AAEX,eAAS,CAAC,CAAD,EAAI,CAAJ;AAFE;AALL;AApB2B,CAApB,CAAnB;;AAgCA,WAAW,KAAX,CAAiB,EAAE,UAAU,UAAZ,EAAjB;;AAEA,WAAW,GAAX,CAAe,QAAf,EAAyB;AACvB,aAAW,CAAC,GAAD,EAAM,GAAN,KAAc;AACvB,QAAI,EAAJ,GAAS,IAAI,GAAb;AACA,WAAO,IAAI,GAAX;AACA,WAAO,IAAI,MAAX;AACD;AALsB,CAAzB;;kBAQe,mBAAS,KAAT,CAAe,MAAf,EAAuB,UAAvB,C","file":"city.js","sourcesContent":["import mongoose from 'mongoose';\n\nconst CitySchema = new mongoose.Schema({\n  _id: {\n    type: Number,\n    index: true,\n    required: true,\n  },\n  name: {\n    type: String,\n    required: true,\n    index: true,\n  },\n  nameLC: {\n    type: String,\n    index: true,\n  },\n  country: {\n    type: String,\n    required: true,\n  },\n  // GeoJSON Point\n  location: {\n    type: {\n      enum: 'Point',\n      default: 'Point',\n    },\n    coordinates: {\n      type: [Number],\n      default: [0, 0],\n    },\n  },\n});\n\nCitySchema.index({ location: '2dsphere' });\n\nCitySchema.set('toJSON', {\n  transform: (doc, ret) => {\n    ret.id = doc._id;\n    delete ret._id;\n    delete ret.nameLC;\n  },\n});\n\nexport default mongoose.model('City', CitySchema);\n"]}