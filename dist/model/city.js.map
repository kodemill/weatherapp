{"version":3,"sources":["../../src/model/city.js"],"names":[],"mappings":";;;;;;AAAA;;;;;;AAEA,MAAM,aAAa,IAAI,mBAAS,MAAb,CAAoB;AACrC,OAAK;AACH,UAAM,MADH;AAEH,WAAO,IAFJ;AAGH,cAAU;AAHP,GADgC;AAMrC,QAAM;AACJ,UAAM,MADF;AAEJ,cAAU,IAFN;AAGJ,WAAO;AAHH,GAN+B;AAWrC,UAAQ;AACN,UAAM,MADA;AAEN,WAAO;AAFD,GAX6B;AAerC,WAAS;AACP,UAAM,MADC;AAEP,cAAU;AAFH,GAf4B;AAmBrC;AACA,YAAU;AACR,UAAM;AACJ,YAAM,OADF;AAEJ,eAAS;AAFL,KADE;AAKR,iBAAa;AACX,YAAM,CAAC,MAAD,CADK;AAEX,eAAS,CAAC,CAAD,EAAI,CAAJ;AAFE;AALL;AApB2B,CAApB,CAAnB;;AAgCA,WAAW,KAAX,CAAiB,EAAE,UAAU,UAAZ,EAAjB;;AAEA,WAAW,GAAX,CAAe,QAAf,EAAyB;AACvB,aAAW,CAAC,GAAD,EAAM,GAAN,KAAc;AACvB,QAAI,EAAJ,GAAS,IAAI,GAAb;AACA,WAAO,IAAI,GAAX;AACA,WAAO,IAAI,MAAX;AACD;AALsB,CAAzB;;kBAQe,mBAAS,KAAT,CAAe,MAAf,EAAuB,UAAvB,C","file":"city.js","sourcesContent":["import mongoose from 'mongoose';\r\n\r\nconst CitySchema = new mongoose.Schema({\r\n  _id: {\r\n    type: Number,\r\n    index: true,\r\n    required: true,\r\n  },\r\n  name: {\r\n    type: String,\r\n    required: true,\r\n    index: true,\r\n  },\r\n  nameLC: {\r\n    type: String,\r\n    index: true,\r\n  },\r\n  country: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  // GeoJSON Point\r\n  location: {\r\n    type: {\r\n      enum: 'Point',\r\n      default: 'Point',\r\n    },\r\n    coordinates: {\r\n      type: [Number],\r\n      default: [0, 0],\r\n    },\r\n  },\r\n});\r\n\r\nCitySchema.index({ location: '2dsphere' });\r\n\r\nCitySchema.set('toJSON', {\r\n  transform: (doc, ret) => {\r\n    ret.id = doc._id;\r\n    delete ret._id;\r\n    delete ret.nameLC;\r\n  },\r\n});\r\n\r\nexport default mongoose.model('City', CitySchema);\r\n"]}