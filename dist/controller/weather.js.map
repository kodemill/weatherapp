{"version":3,"sources":["../../src/controller/weather.js"],"names":[],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;;;;;AAEA,MAAM;AAAA,+BAAiC,aAAY;AACjD,UAAM,kBAAkB,MAAM,0BAAI,aAAJ,EAA9B;AACA,UAAM,kBAAkB,MAAM,4BAC5B,gBAAgB,GAAhB,CAAoB;AAAA,aAAY,SAAS,IAArB;AAAA,KAApB,CAD4B,CAA9B;AAEA,UAAM,iBAAiB,MAAM,wBAAI,mBAAJ,CAAwB,eAAxB,CAA7B;AACA,WAAO,CAAC,MAAM,0BAAI,qBAAJ,CAA0B,eAA1B,EAA2C,cAA3C,CAAP,EAAmE,cAAnE,CAAP;AACD,GANK;;AAAA;AAAA;AAAA;AAAA,IAAN;;kBAQe;AACb;AADa,C","file":"weather.js","sourcesContent":["import WCC from '../controller/weather-criteria';\nimport WRC from '../controller/weather-report';\nimport fetchWeather from '../lib/fetch-weather';\n\nconst fetchWeatherAndUpdateDocuments = async () => {\n  const pendingCriteria = await WCC.getAllPending();\n  const weatherResponse = await fetchWeather(\n    pendingCriteria.map(criteria => criteria.city));\n  const weatherReports = await WRC.saveAllFromResponse(weatherResponse);\n  return [await WCC.tryFulfillFromReports(pendingCriteria, weatherReports), weatherReports];\n};\n\nexport default {\n  fetchWeatherAndUpdateDocuments,\n};\n"]}