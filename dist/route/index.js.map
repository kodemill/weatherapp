{"version":3,"sources":["../../src/route/index.js"],"names":[],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA,MAAM,SAAS,wBAAW;AACxB,UAAS,KAAG,iBAAO,GAAP,CAAW,OAAQ;AADP,CAAX,CAAf;AAGA,oBAAK,MAAL;;AAEA,MAAM,sBAAsB,wBAAW;AACrC,UAAS,KAAG,iBAAO,GAAP,CAAW,OAAQ;AADM,CAAX,CAA5B;AAGA,oBAAoB,GAApB,CAAwB,kCAAxB;AACA,oBAAK,mBAAL;AACA,uBAAQ,mBAAR;AACA,wBAAS,mBAAT;AACA,oBAAK,mBAAL;;kBAEe,MAAM,0BAAQ,CAC3B,OAAO,MAAP,EAD2B,EAE3B,OAAO,cAAP,EAF2B,EAG3B,oBAAoB,MAApB,EAH2B,EAI3B,oBAAoB,cAApB,EAJ2B,CAAR,C","file":"index.js","sourcesContent":["import Router from 'koa-router';\nimport compose from 'koa-compose';\nimport auth from './auth';\nimport city from './city';\nimport user from './user';\nimport weather from './weather';\nimport config from '../../config';\nimport criteria from './criteria';\nimport { isAuthenticated } from '../middleware';\n\nconst router = new Router({\n  prefix: `/${config.app.apiPath}`,\n});\nauth(router);\n\nconst authenticatedRouter = new Router({\n  prefix: `/${config.app.apiPath}`,\n});\nauthenticatedRouter.use(isAuthenticated());\ncity(authenticatedRouter);\nweather(authenticatedRouter);\ncriteria(authenticatedRouter);\nuser(authenticatedRouter);\n\nexport default () => compose([\n  router.routes(),\n  router.allowedMethods(),\n  authenticatedRouter.routes(),\n  authenticatedRouter.allowedMethods(),\n]);\n"]}