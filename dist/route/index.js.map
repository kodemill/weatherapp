{"version":3,"sources":["../../src/route/index.js"],"names":[],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA,MAAM,SAAS,wBAAW;AACxB,UAAS,KAAG,iBAAO,GAAP,CAAW,OAAQ;AADP,CAAX,CAAf;AAGA,oBAAK,MAAL;;AAEA,MAAM,sBAAsB,wBAAW;AACrC,UAAS,KAAG,iBAAO,GAAP,CAAW,OAAQ;AADM,CAAX,CAA5B;AAGA,oBAAoB,GAApB,CAAwB,kCAAxB;AACA,oBAAK,mBAAL;AACA,uBAAQ,mBAAR;AACA,wBAAS,mBAAT;AACA,oBAAK,mBAAL;;kBAEe,MAAM,0BAAQ,CAC3B,OAAO,MAAP,EAD2B,EAE3B,OAAO,cAAP,EAF2B,EAG3B,oBAAoB,MAApB,EAH2B,EAI3B,oBAAoB,cAApB,EAJ2B,CAAR,C","file":"index.js","sourcesContent":["import Router from 'koa-router';\r\nimport compose from 'koa-compose';\r\nimport auth from './auth';\r\nimport city from './city';\r\nimport user from './user';\r\nimport weather from './weather';\r\nimport config from '../../config';\r\nimport criteria from './criteria';\r\nimport { isAuthenticated } from '../middleware';\r\n\r\nconst router = new Router({\r\n  prefix: `/${config.app.apiPath}`,\r\n});\r\nauth(router);\r\n\r\nconst authenticatedRouter = new Router({\r\n  prefix: `/${config.app.apiPath}`,\r\n});\r\nauthenticatedRouter.use(isAuthenticated());\r\ncity(authenticatedRouter);\r\nweather(authenticatedRouter);\r\ncriteria(authenticatedRouter);\r\nuser(authenticatedRouter);\r\n\r\nexport default () => compose([\r\n  router.routes(),\r\n  router.allowedMethods(),\r\n  authenticatedRouter.routes(),\r\n  authenticatedRouter.allowedMethods(),\r\n]);\r\n"]}